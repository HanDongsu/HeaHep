-- MySQL Script generated by MySQL Workbench
-- Sat Mar 25 14:33:51 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema heahep
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema heahep
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `heahep` DEFAULT CHARACTER SET utf8 ;
USE `heahep` ;

-- -----------------------------------------------------
-- Table `heahep`.`ranks`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`ranks` (
  `rank_no` INT NOT NULL AUTO_INCREMENT,
  `rank_name` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`rank_no`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`trainers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`trainers` (
  `trainer_no` INT NOT NULL AUTO_INCREMENT,
  `member_no` INT NOT NULL,
  `trainer_name` VARCHAR(50) NOT NULL,
  `trainer_photo` VARCHAR(255) NULL,
  `trainer_comment` MEDIUMTEXT NULL,
  `center_name` VARCHAR(100) NULL,
  `centeraddr_si` VARCHAR(50) NULL,
  `centeraddr_gu` VARCHAR(50) NULL,
  `centeraddr_detail` VARCHAR(150) NULL,
  PRIMARY KEY (`trainer_no`),
  INDEX `fk_trainers_members1_idx` (`member_no` ASC),
  CONSTRAINT `fk_trainers_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`members`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`members` (
  `member_no` INT NOT NULL AUTO_INCREMENT,
  `rank_no` INT NOT NULL,
  `trainer_no` INT NULL,
  `member_email` VARCHAR(50) NOT NULL,
  `member_name` VARCHAR(50) NOT NULL,
  `member_nick` VARCHAR(45) NOT NULL,
  `member_tel` VARCHAR(50) NOT NULL,
  `member_gender` VARCHAR(50) NOT NULL,
  `member_pwd` VARCHAR(50) NOT NULL,
  `join_date` DATE NOT NULL,
  PRIMARY KEY (`member_no`),
  INDEX `fk_member_rank1_idx` (`rank_no` ASC),
  UNIQUE INDEX `member_email_UNIQUE` (`member_email` ASC),
  UNIQUE INDEX `member_tel_UNIQUE` (`member_tel` ASC),
  INDEX `fk_members_trainers1_idx` (`trainer_no` ASC),
  UNIQUE INDEX `member_nick_UNIQUE` (`member_nick` ASC),
  CONSTRAINT `fk_member_rank1`
    FOREIGN KEY (`rank_no`)
    REFERENCES `heahep`.`ranks` (`rank_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_members_trainers1`
    FOREIGN KEY (`trainer_no`)
    REFERENCES `heahep`.`trainers` (`trainer_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`large_categorys`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`large_categorys` (
  `lctg_no` INT NOT NULL AUTO_INCREMENT,
  `lctg_name` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`lctg_no`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`small_categorys`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`small_categorys` (
  `sctg_no` INT NOT NULL AUTO_INCREMENT,
  `lctg_no` INT NOT NULL,
  `sctg_name` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`sctg_no`),
  INDEX `fk_sec_categorys_fst_categorys1_idx` (`lctg_no` ASC),
  CONSTRAINT `fk_sec_categorys_fst_categorys1`
    FOREIGN KEY (`lctg_no`)
    REFERENCES `heahep`.`large_categorys` (`lctg_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`boards`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`boards` (
  `board_no` INT NOT NULL AUTO_INCREMENT,
  `lctg_no` INT NOT NULL,
  `sctg_no` INT NOT NULL,
  `board_title` VARCHAR(255) NOT NULL,
  `board_conts` MEDIUMTEXT NOT NULL,
  `video_path` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`board_no`),
  INDEX `fk_board_sec_categorys1_idx` (`sctg_no` ASC),
  INDEX `fk_boards_fst_categorys1_idx` (`lctg_no` ASC),
  CONSTRAINT `fk_board_sec_categorys1`
    FOREIGN KEY (`sctg_no`)
    REFERENCES `heahep`.`small_categorys` (`sctg_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_boards_fst_categorys1`
    FOREIGN KEY (`lctg_no`)
    REFERENCES `heahep`.`large_categorys` (`lctg_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`questions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`questions` (
  `question_no` INT NOT NULL AUTO_INCREMENT,
  `member_no` INT NOT NULL,
  `trainer_no` INT NULL,
  `question_title` VARCHAR(255) NOT NULL,
  `question_conts` MEDIUMTEXT NOT NULL,
  PRIMARY KEY (`question_no`),
  INDEX `fk_questions_members1_idx` (`member_no` ASC),
  INDEX `fk_questions_trainers1_idx` (`trainer_no` ASC),
  CONSTRAINT `fk_questions_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_questions_trainers1`
    FOREIGN KEY (`trainer_no`)
    REFERENCES `heahep`.`trainers` (`trainer_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`answers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`answers` (
  `answer_no` INT NOT NULL AUTO_INCREMENT,
  `trainer_no` INT NOT NULL,
  `question_no` INT NOT NULL,
  `answer_title` VARCHAR(255) NOT NULL,
  `answer_conts` MEDIUMTEXT NOT NULL,
  PRIMARY KEY (`answer_no`),
  INDEX `fk_answers_trainers1_idx` (`trainer_no` ASC),
  INDEX `fk_answers_questions1_idx` (`question_no` ASC),
  CONSTRAINT `fk_answers_trainers1`
    FOREIGN KEY (`trainer_no`)
    REFERENCES `heahep`.`trainers` (`trainer_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_answers_questions1`
    FOREIGN KEY (`question_no`)
    REFERENCES `heahep`.`questions` (`question_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`fms_test`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`fms_test` (
  `fmstest_no` INT NOT NULL AUTO_INCREMENT,
  `member_no` INT NOT NULL,
  `test_comment` MEDIUMTEXT NOT NULL,
  `sqaut` INT NOT NULL,
  `final_sqaut` INT NOT NULL,
  `lunge_r` INT NOT NULL,
  `lunge_l` INT NOT NULL,
  `final_lunge` INT NOT NULL,
  `hudle_r` INT NOT NULL,
  `hudle_l` INT NOT NULL,
  `final_hudle` INT NOT NULL,
  `shoulder_r` INT NOT NULL,
  `shoulder_l` INT NOT NULL,
  `shoulder_clr_l` TINYINT NOT NULL,
  `shoulder_clr_r` TINYINT NOT NULL,
  `final_shoulder` INT NOT NULL,
  `legraise_r` INT NOT NULL,
  `legraise_l` INT NOT NULL,
  `final_legraise` INT NOT NULL,
  `pushup` INT NOT NULL,
  `pushup_clr` TINYINT NOT NULL,
  `final_pushup` INT NOT NULL,
  `rotary_r` INT NOT NULL,
  `rotary_l` INT NOT NULL,
  `rotary_clr` TINYINT NOT NULL,
  `final_rotary` INT NOT NULL,
  `total_score` INT NOT NULL,
  `fms_date` DATETIME NOT NULL,
  PRIMARY KEY (`fmstest_no`),
  INDEX `fk_fms_members1_idx` (`member_no` ASC),
  CONSTRAINT `fk_fms_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`trainning_photo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`trainning_photo` (
  `photo_no` INT NOT NULL AUTO_INCREMENT,
  `fmstest_no` INT NOT NULL,
  `photo_path` VARCHAR(255) NULL,
  PRIMARY KEY (`photo_no`),
  INDEX `fk_trainning_photo_fmsTest1_idx` (`fmstest_no` ASC),
  CONSTRAINT `fk_trainning_photo_fmsTest1`
    FOREIGN KEY (`fmstest_no`)
    REFERENCES `heahep`.`fms_test` (`fmstest_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`periods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`periods` (
  `period_no` INT NOT NULL,
  `member_no` INT NOT NULL,
  `start_date` DATETIME NULL,
  `end_date` DATETIME NULL,
  `stop_sdate` DATETIME NULL,
  `stop_edate` VARCHAR(45) NULL,
  `total_stopdate` INT NULL,
  INDEX `fk_periods_members1_idx` (`member_no` ASC),
  PRIMARY KEY (`period_no`),
  CONSTRAINT `fk_periods_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`free_boards`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`free_boards` (
  `fboard_no` INT NOT NULL AUTO_INCREMENT,
  `member_no` INT NOT NULL,
  `fboard_title` VARCHAR(255) NOT NULL,
  `fboard_conts` MEDIUMTEXT NOT NULL,
  `fboard_credate` DATETIME NOT NULL,
  `fboard_viewcnt` INT NULL,
  PRIMARY KEY (`fboard_no`),
  INDEX `fk_free_boards_members1_idx` (`member_no` ASC),
  CONSTRAINT `fk_free_boards_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`trainning_records`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`trainning_records` (
  `record_no` INT NOT NULL AUTO_INCREMENT,
  `member_no` INT NOT NULL,
  `board_no` INT NOT NULL,
  `record_date` DATE NOT NULL,
  PRIMARY KEY (`record_no`),
  INDEX `fk_trainning_records_members1_idx` (`member_no` ASC),
  INDEX `fk_trainning_records_boards1_idx` (`board_no` ASC),
  CONSTRAINT `fk_trainning_records_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_trainning_records_boards1`
    FOREIGN KEY (`board_no`)
    REFERENCES `heahep`.`boards` (`board_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `heahep`.`notify_boards`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `heahep`.`notify_boards` (
  `nboard_no` INT NOT NULL AUTO_INCREMENT,
  `member_no` INT NOT NULL,
  `nboard_title` VARCHAR(255) NOT NULL,
  `nboard_conts` MEDIUMTEXT NOT NULL,
  `nboard_credate` DATETIME NOT NULL,
  `nboard_viewcnt` INT NOT NULL,
  PRIMARY KEY (`nboard_no`),
  INDEX `fk_notify_boards_members1_idx` (`member_no` ASC),
  CONSTRAINT `fk_notify_boards_members1`
    FOREIGN KEY (`member_no`)
    REFERENCES `heahep`.`members` (`member_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
